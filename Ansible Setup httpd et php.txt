There is already an inventory file ~/playbooks/inventory on jump host.
On jump host itself there is a list of users in ~/playbooks/data/users.yml file and there are two groups — admins and developers —that have list of different users. 
Create a playbook ~/playbooks/add_users.yml on jump host to perform the following tasks on app server 3 in Stratos DC.
a. Add all users given in the users.yml file on app server 3.
b. Also add developers and admins groups on the same server.
c. As per the list given in the users.yml file, make each user member of the respective group they are listed under.
d. Make sure home directory for all of the users under developers group is /var/www (not the default i.e /var/www/{USER}). 
Users under admins group should use the default home directory (i.e /home/devid for user devid).
e. Set password 8FmzjvFU6S for all of the users under developers group and 8FmzjvFU6S for of the users under admins group. 
Make sure to use the password given in the ~/playbooks/secrets/vault.txt file as Ansible vault password to encrypt the original password strings. 
You can use ~/playbooks/secrets/vault.txt file as a vault secret file while running the playbook (make necessary changes in ~/playbooks/ansible.cfg file).
-> add ansible.cfg : vault_password_file = /home/thor/playbooks/secrets/vault.txt
f. All users under admins group must be added as sudo users. To do so, simply make them member of the wheel group as well.

/data/users.yml:
admins:
  - rob
  - david
  - joy

developers:
  - tim
  - ray
  - jim
  - mark

Create a file secret.txt in /secrets:
admins_password: 8FmzjvFU6S
developers_password: 8FmzjvFU6S

To encrypt the file secret.txt : ansible-vault encrypt /secrets/secret.txt (Be sure to be the ansible.cfg directory to access the secret vault file)

/playbooks/add_users.yml:
---
- hosts: stapp03
  become: true
  gather_facts: yes
  vars_files:
  - ./data/users.yml
  - ./secrets/secret.txt

  tasks:

  - name: Create group admins
    group:
      name: admins
      state: present
    tags: admins
  
  - name: Create group developers
    group:
      name: developers
      state: present
    tags: developers

  - name: Create users from admins group
    user:
      name: "{{ item }}"
      groups: admins,wheel
      append: yes
      create_home: yes
      home: /home/"{{ item  }}"
      password: "{{ admins_password | password_hash('sha512') }}"
    loop: "{{ admins }}"
    tags: admins

  - name: Create users from developers group
    user:
      name: "{{ item }}"
      groups: developers
      append: yes
      create_home: yes
      home: /var/www/"{{ item  }}"
      password: "{{ developers_password | password_hash('sha512') }}"
    loop: "{{ developers }}"
    tags: developers

